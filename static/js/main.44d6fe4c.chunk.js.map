{"version":3,"sources":["settings.js","components/UpdateHandler.js","components/Header.js","api.js","components/DevicesList.js","components/views/Home.js","components/Footer.js","components/views/Devices.js","components/DataList.js","components/views/Data.js","App.js","index.js","registerServiceWorker.js"],"names":["theme","createMuiTheme","typography","useNextVariants","palette","primary","secondary","UpdateHandler","props","state","showInstalledMessage","showUpdateMessage","showUpdateOnRestartMessage","appServiceWorker","this","onInstalled","setState","onUpdateFound","children","Snackbar","open","autoHideDuration","onClose","message","action","Button","key","color","size","onClick","window","location","reload","Component","Header","goBack","history","back","classes","title","backButton","rightAction","appBarProps","AppBar","position","Toolbar","className","menuButtonWrapper","IconButton","aria-label","ArrowBack","Typography","variant","flex","withStyles","root","marginLeft","marginRight","api","http","route","method","body","args","JSON","stringify","fetch","headers","then","res","json","getDevices","filters","getNewDevices","deleteDevice","id","authorize","unauthorize","getData","deleteData","createdAt","styles","item","margin","trash","DevicesList","onUpdate","devices","map","device","DevicesListItem","name","ip","address","auth","authorized","date","Date","Card","style","CardContent","gutterBottom","toLocaleDateString","toLocaleTimeString","component","CardActions","Delete","DELAY","Home","newDevices","updateNewDevices","a","timeout","setTimeout","clearTimeout","Container","length","align","fontSize","PureComponent","bottom","left","right","placeholder","height","Footer","pathname","useLocation","Paper","square","elevation","BottomNavigation","value","showLabels","BottomNavigationAction","Link","to","label","icon","History","loader","top","Devices","loading","disabled","Refresh","maxWidth","CircularProgress","list","DataList","data","List","DataListItem","deviceId","useState","setLoading","Grow","in","ListItem","ListItemAvatar","Avatar","ListItemText","toLocaleString","ListItemSecondaryAction","edge","Divider","inlist","Data","updateData","App","exact","path","appSW","isLocalhost","Boolean","hostname","match","installPromise","Promise","resolve","installPromiseResolver","updatePromise","updatePromiseResolver","console","log","navigator","URL","process","origin","addEventListener","swUrl","checkValidServiceWorker","serviceWorker","ready","registerValidSW","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","catch","error","response","status","get","indexOf","unregister","callback","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.44d6fe4c.chunk.js","sourcesContent":["import { createMuiTheme } from \"@material-ui/core\";\nimport {\n    teal as primary, // Primary color\n    pink as secondary, // Primary color\n} from '@material-ui/core/colors'\n\n/**\n * Material UI theme feature\n * @see https://material-ui.com/customization/themes/\n * @see https://material-ui.com/style/color/\n */\nexport const theme = createMuiTheme({\n    typography: {\n        useNextVariants: true,\n    },\n    palette: {\n        primary,\n        secondary,\n    },\n})","import React, { Component, Fragment } from 'react';\nimport { Snackbar, Button } from '@material-ui/core'\n\nclass UpdateHandler extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            showInstalledMessage: false,\n            showUpdateMessage: false,\n            showUpdateOnRestartMessage: false,\n        }\n    }\n\n    componentDidMount() {\n        const { appServiceWorker } = this.props\n        if (appServiceWorker) {\n            appServiceWorker.onInstalled(() => this.setState({ showInstalledMessage: true }))\n            appServiceWorker.onUpdateFound(() => this.setState({ showUpdateMessage: true }))\n        }\n    }\n\n    render() {\n        return (\n            <Fragment>\n                {this.props.children}\n                <Snackbar\n                    open={this.state.showInstalledMessage}\n                    autoHideDuration={6000}\n                    onClose={() => this.setState({ showInstalledMessage: false })}\n                    message=\"The APP is ready to  work offline.\"\n                />\n                <Snackbar\n                    open={this.state.showUpdateMessage}\n                    onClose={() => this.setState({ showUpdateMessage: false, showUpdateOnRestartMessage: true })}\n                    message=\"A new version is available.\"\n                    action={[\n                        <Button key=\"undo\" color=\"secondary\" size=\"small\" onClick={() => window.location.reload()}>\n                            UPDATE\n                        </Button>\n                    ]}\n                />\n                <Snackbar\n                    open={this.state.showUpdateOnRestartMessage}\n                    autoHideDuration={6000}\n                    onClose={() => this.setState({ showUpdateOnRestartMessage: false })}\n                    message=\"The APP will be updated on the next restart.\"\n                />\n            </Fragment>\n        );\n    }\n}\n\nexport default UpdateHandler;","import React, { Component } from 'react';\nimport { withStyles, IconButton, Typography, Toolbar, AppBar } from '@material-ui/core'\nimport {\n    ArrowBack as ArrowBackIcon,\n} from '@material-ui/icons'\n\n\nconst styles = {\n    root: {\n        // paddingTop: 64\n    },\n    flex: {\n        flex: 1,\n    },\n    menuButtonWrapper: {\n        marginLeft: -12,\n        marginRight: 20,\n    },\n}\n\nclass Header extends Component {\n\n    goBack = () => window.history.back()\n\n    render() {\n        const { children, classes, title, backButton = false, rightAction, appBarProps, ...props } = this.props\n\n        return (\n            <AppBar position=\"sticky\" {...appBarProps} {...props}>\n                <Toolbar>\n                    <div className={classes.menuButtonWrapper}>\n                        {backButton &&\n                            <IconButton color=\"inherit\" aria-label=\"Menu\" onClick={this.goBack}>\n                                <ArrowBackIcon />\n                            </IconButton>}\n                    </div>\n\n                    {title &&\n                        <Typography variant=\"h6\" color=\"inherit\" className={classes.flex}>\n                            {title}\n                        </Typography>\n                    }\n\n                    {rightAction && <div>{rightAction}</div>}\n                </Toolbar>\n                {children}\n            </AppBar>\n        )\n    }\n\n}\n\nexport default withStyles(styles)(Header);\n","const api = 'https://iot-auth-api.herokuapp.com/app'\n\nfunction http(route = '/', { method = 'GET', body, ...args } = {}) {\n    if (body) body = JSON.stringify(body)\n    return fetch(api + route, {\n        headers: {\n            'Content-Type': 'application/json'\n        },\n        method,\n        body,\n        ...args\n    }).then(res => res.json())\n}\n\nexport const getDevices = filters => http('/devices')\n\nexport const getNewDevices = () => http('/devices/new')\n\nexport const getDevice = id => http(`/devices/${id}`)\n\nexport const deleteDevice = id => http(`/devices/${id}`, { method: 'DELETE' })\n\nexport const authorize = id => http(`/devices/${id}/authorize`, { method: 'PUT' })\n\nexport const unauthorize = id => http(`/devices/${id}/authorize`, { method: 'DELETE' })\n\nexport const getData = filters => http('/data')\n\nexport const deleteData = createdAt => http(`/data/${createdAt}`, { method: 'DELETE' })\n\n","import React from 'react'\nimport { Typography, Card, CardContent, Button, CardActions, IconButton } from '@material-ui/core'\nimport { authorize, unauthorize, deleteDevice } from '../api'\nimport { Delete as DeleteIcon } from '@material-ui/icons'\n\nconst styles = {\n    item: {\n        margin: '10px 0'\n    },\n    trash: {\n        marginLeft: 'auto'\n    }\n}\n\nexport default function DevicesList({ onUpdate, devices = [] }) {\n\n    return (\n        <div>\n            {devices.map(device =>\n                <DevicesListItem key={device.id} device={device} onUpdate={onUpdate} />)}\n        </div>\n    )\n}\n\n\nfunction DevicesListItem({ onUpdate = () => { }, device: { id, name, createdAt, ip, address, authorized: auth } }) {\n    const date = new Date(createdAt)\n    return (\n        <Card style={styles.item}>\n            <CardContent>\n                <Typography color=\"textSecondary\" gutterBottom>\n                    {date.toLocaleDateString()}, às {date.toLocaleTimeString()}\n                </Typography>\n                <Typography variant=\"h5\" component=\"h2\">\n                    {name}\n                </Typography>\n                <Typography color={auth === null ? 'textSecondary' : auth ? 'primary' : 'error'}>\n                    Autorização: {auth === null ?\n                        'Não definido' :\n                        auth ? 'Autorizado' : 'Revogada'}\n                </Typography>\n                <Typography variant=\"body2\" component=\"p\">\n                    <b>IP: </b> {ip || 'Local'} <br />\n                    <b>Endereço: </b> {!address ? 'Não informado' :\n                        <address>{address}</address>\n                    }\n                </Typography>\n            </CardContent>\n            <CardActions>\n                <Button color=\"primary\" size=\"small\" onClick={() => authorize(id).then(onUpdate)}>Autorizar</Button>\n                <Button color=\"secondary\" size=\"small\" onClick={() => unauthorize(id).then(onUpdate)}>Revogar</Button>\n                <IconButton color=\"default\" size=\"small\" onClick={() => deleteDevice(id).then(onUpdate)} style={styles.trash}>\n                    <DeleteIcon />\n                </IconButton>\n            </CardActions>\n        </Card>\n    )\n}","import React, { Fragment, PureComponent } from 'react';\nimport Header from '../Header';\nimport { Typography, Container } from '@material-ui/core';\nimport { getNewDevices } from '../../api';\nimport DevicesList from '../DevicesList';\nimport { EmojiEmotions as HappyIcon } from '@material-ui/icons';\n\nconst DELAY = 1000\n\nclass Home extends PureComponent {\n\n    state = {\n        newDevices: []\n    }\n\n    updateNewDevices = async () => {\n        const newDevices = await getNewDevices()\n        if (!this.timeout) return\n        this.setState({ newDevices })\n        this.timeout = setTimeout(this.updateNewDevices, DELAY)\n    }\n\n    componentDidMount() {\n        this.timeout = setTimeout(this.updateNewDevices, 0)\n    }\n\n    componentWillUnmount() {\n        clearTimeout(this.timeout)\n        this.timeout = null\n    }\n\n    render() {\n        const { newDevices } = this.state\n        return (\n            <Fragment>\n                <Header title=\"Dispositivos novos\" />\n                <main>\n                    <Container>\n                        {newDevices.length === 0 &&\n                            <Typography style={{margin: '20vh 0'}} variant=\"h2\" align=\"center\">\n                                Nenhum dispositivo novo <br /><br />\n                                <HappyIcon fontSize=\"inherit\" />\n                            </Typography>\n                        }\n                        \n                        <DevicesList devices={newDevices} />\n                    </Container>\n                </main>\n            </Fragment>\n        );\n    }\n}\n\nexport default Home;","import React from 'react'\nimport { useLocation } from \"react-router\";\nimport { Link } from \"react-router-dom\";\nimport { BottomNavigation, BottomNavigationAction, Paper } from '@material-ui/core';\nimport { FiberNew as NewIcon, History as HistoryIcon, DataUsage as DataIcon } from '@material-ui/icons';\n\nconst styles = {\n    root: {\n        position: 'fixed',\n        bottom: 0,\n        left: 0,\n        right: 0\n    },\n    placeholder: {\n        height: 56\n    }\n}\nexport default function Footer() {\n    const { pathname } = useLocation()\n    return (\n        <>\n            <footer style={styles.root}>\n                <Paper square elevation={3}>\n                    <BottomNavigation\n                        value={pathname}\n                        // onChange={(event, newValue) => {\n                        // setValue(newValue);\n                        // }}\n                        showLabels\n                    >\n                        <BottomNavigationAction component={Link} to=\"/\" value=\"/\" label=\"Dispositivos Novos\" icon={<NewIcon />} />\n                        <BottomNavigationAction component={Link} to=\"/all\" value=\"/all\" label=\"Todos Dispositivos\" icon={<HistoryIcon />} />\n                        <BottomNavigationAction component={Link} to=\"/data\" value=\"/data\" label=\"Dados\" icon={<DataIcon />} />\n                    </BottomNavigation>\n                </Paper>\n\n            </footer>\n            <div style={styles.placeholder} />\n        </>\n    )\n}\n","import React, { Fragment, PureComponent } from 'react';\nimport Header from '../Header';\nimport { Typography, Container, CircularProgress, IconButton } from '@material-ui/core';\nimport { getDevices } from '../../api';\nimport DevicesList from '../DevicesList';\nimport { Refresh as RefreshIcon } from '@material-ui/icons';\n\nconst styles = {\n    loader: {\n        position: 'fixed',\n        top: 0,\n        left: 0,\n        right: 0,\n        bottom: 0,\n        margin: 'auto'\n    }\n}\n\nclass Devices extends PureComponent {\n\n    state = {\n        loading: false,\n        devices: []\n    }\n\n    getDevices = async () => {\n        this.setState({ loading: true })\n        const devices = await getDevices()\n        this.setState({ devices, loading: false })\n    }\n\n    componentDidMount() {\n        this.getDevices()\n    }\n\n    render() {\n        const { devices, loading } = this.state\n        return (\n            <Fragment>\n                <Header title=\"Todos Dispositivos\" \n                    rightAction={\n                        <IconButton color=\"inherit\" onClick={this.getDevices} disabled={loading}>\n                            <RefreshIcon />\n                        </IconButton>\n                    }\n                />\n                <main>\n                    <Container maxWidth=\"sm\">\n                        {loading ?\n                            <CircularProgress size={80} style={styles.loader} /> :\n                            <>\n                                {devices.length === 0 &&\n                                    <Typography style={{ margin: '20vh 0' }} variant=\"h2\" align=\"center\">\n                                        Nenhum dispositivo encontrado\n                                    </Typography>\n                                }\n                                <DevicesList onUpdate={this.getDevices} devices={devices} />\n                            </>\n                        }\n                    </Container>\n                </main>\n            </Fragment>\n        );\n    }\n}\n\nexport default Devices;","import React, { useState } from 'react'\nimport { List, ListItem, ListItemText, ListItemAvatar, Avatar, ListItemSecondaryAction, IconButton, Divider, Grow } from '@material-ui/core'\nimport { Delete as DeleteIcon } from '@material-ui/icons'\nimport { deleteData } from '../api'\n\n\nconst styles = {\n    list: {\n        margin: '10px 0'\n    }\n}\n\nexport default function DataList({ onUpdate, data = [] }) {\n\n    return (\n        <List style={styles.list}>\n            {data.map(data =>\n                <DataListItem key={data.createdAt} data={data} />)}\n        </List>\n    )\n}\n\n\nfunction DataListItem({ data: { deviceId, createdAt, value } }) {\n    const [loading, setLoading] = useState(false)\n\n    function deleteItem() {\n        setLoading(true)\n        deleteData(createdAt)\n    }\n    const date = new Date(createdAt)\n    return (\n        <Grow in={!loading}>\n            <div>\n                <ListItem>\n                    <ListItemAvatar>\n                        <Avatar>{deviceId}</Avatar>\n                    </ListItemAvatar>\n                    <ListItemText primary={`Valor: ${value}`} secondary={date.toLocaleString()} />\n                    <ListItemSecondaryAction>\n                        <IconButton edge=\"end\" aria-label=\"delete\" onClick={deleteItem} disabled={loading}>\n                            <DeleteIcon />\n                        </IconButton>\n                    </ListItemSecondaryAction>\n                </ListItem>\n                <Divider inlist />\n            </div>\n        </Grow>\n    )\n}","import React, { Fragment, PureComponent } from 'react';\nimport Header from '../Header';\nimport { Typography, Container } from '@material-ui/core';\nimport { getData } from '../../api';\nimport DataList from '../DataList';\n\n\nconst DELAY = 500\n\nclass Data extends PureComponent {\n\n    state = {\n        data: []\n    }\n\n\n    updateData = async () => {\n        const data = await getData()\n        if (!this.timeout) return\n        this.setState({ data })\n        this.timeout = setTimeout(this.updateData, DELAY)\n    }\n\n    componentDidMount() {\n        this.timeout = setTimeout(this.updateData, 0)\n    }\n\n    componentWillUnmount() {\n        clearTimeout(this.timeout)\n        this.timeout = null\n    }\n\n\n    render() {\n        const { data } = this.state\n        return (\n            <Fragment>\n                <Header title=\"Dados Coletados\" />\n                <main>\n                    <Container>\n\n                        {data.length === 0 &&\n                            <Typography style={{ margin: '20vh 0' }} variant=\"h2\" align=\"center\">\n                                Nenhum dado encontrado\n                                    </Typography>\n                        }\n                        <DataList data={data} />\n\n                    </Container>\n                </main>\n            </Fragment>\n        );\n    }\n}\n\nexport default Data;","import React, { Component } from 'react';\nimport { MuiThemeProvider } from '@material-ui/core';\nimport 'typeface-roboto'\n\nimport { theme } from './settings'\nimport UpdateHandler from './components/UpdateHandler'\nimport { HashRouter as Router, Switch, Route } from 'react-router-dom'\nimport Home from './components/views/Home';\nimport Footer from './components/Footer';\nimport Devices from './components/views/Devices';\nimport Data from './components/views/Data';\n\nclass App extends Component {\n    render() {\n        return (\n            <div style={{ height: '100vh' }}>\n                <Router>\n                    <MuiThemeProvider theme={theme}>\n                        <UpdateHandler appServiceWorker={this.props.appServiceWorker}>\n                            <Switch>\n                                <Route exact path=\"/\" component={Home} />\n                                <Route exact path=\"/all\" component={Devices} />\n                                <Route exact path=\"/data\" component={Data} />\n                            </Switch>\n                            <Footer />\n                        </UpdateHandler>\n                    </MuiThemeProvider>\n                </Router>\n            </div>\n        );\n    }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css'\nimport AppServiceWorker from './registerServiceWorker';\n\nconst appSW = new AppServiceWorker();\nReactDOM.render(<App appServiceWorker={appSW} />, document.getElementById('root'));\nappSW.register();","// In production, we register a service worker to serve assets from local cache.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\n// cached resources are updated in the background.\n\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\n/**\n * App Service Worker Class\n * \n * @export\n * @class AppServiceWorker\n */\nexport default class AppServiceWorker {\n    /**\n     * Creates an instance of AppServiceWorker.\n     * \n     * @memberof AppServiceWorker\n     */\n    constructor() {\n\n        this.isLocalhost = Boolean(\n            window.location.hostname === \"localhost\" ||\n            // [::1] is the IPv6 localhost address.\n            window.location.hostname === \"[::1]\" ||\n            // 127.0.0.1/8 is considered localhost for IPv4.\n            window.location.hostname.match(\n                /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n            )\n        );\n\n        this.installPromise = new Promise(resolve => this.installPromiseResolver = resolve)\n        this.updatePromise = new Promise(resolve => this.updatePromiseResolver = resolve)\n\n        this.onUpdateFound(() => console.log(\"New content is available; please refresh.\"))\n        this.onInstalled(() => console.log(\"Content is cached for offline use.\"))\n\n    }\n    /**\n     * Register the service worker\n     * \n     * @returns \n     * @memberof AppServiceWorker\n     */\n    register() {\n        if (process.env.NODE_ENV === \"production\" && \"serviceWorker\" in navigator) {\n            // The URL constructor is available in all browsers that support SW.\n            const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n            if (publicUrl.origin !== window.location.origin) {\n                // Our service worker won't work if PUBLIC_URL is on a different origin\n                // from what our page is served on. This might happen if a CDN is used to\n                // serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\n                return;\n            }\n\n            window.addEventListener(\"load\", () => {\n                const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n                if (this.isLocalhost) {\n                    // This is running on localhost. Lets check if a service worker still exists or not.\n                    this.checkValidServiceWorker(swUrl);\n\n                    // Add some additional logging to localhost, pointing developers to the\n                    // service worker/PWA documentation.\n                    navigator.serviceWorker.ready.then(() => {\n                        console.log(\n                            \"This web app is being served cache-first by a service \" +\n                            \"worker. To learn more, visit https://goo.gl/SC7cgQ\"\n                        );\n                    });\n                } else {\n                    // Is not local host. Just register service worker\n                    this.registerValidSW(swUrl);\n                }\n            });\n        }\n    }\n\n    registerValidSW(swUrl) {\n\n        navigator.serviceWorker\n            .register(swUrl)\n            .then(registration => {\n\n                registration.onupdatefound = () => {\n                    const installingWorker = registration.installing;\n                    installingWorker.onstatechange = () => {\n                        if (installingWorker.state === \"installed\") {\n                            if (navigator.serviceWorker.controller) {\n                                // At this point, the old content will have been purged and\n                                // the fresh content will have been added to the cache.\n                                // It's the perfect time to display a \"New content is\n                                // available; please refresh.\" message in your web app.\n                                this.updatePromiseResolver()\n                            } else {\n                                // At this point, everything has been precached.\n                                // It's the perfect time to display a\n                                // \"Content is cached for offline use.\" message.\n                                this.installPromiseResolver()\n                            }\n                        }\n                    };\n                };\n            })\n            .catch(error => {\n                console.error(\"Error during service worker registration:\", error);\n            });\n    }\n\n    checkValidServiceWorker(swUrl) {\n        // Check if the service worker can be found. If it can't reload the page.\n        fetch(swUrl)\n            .then(response => {\n                // Ensure service worker exists, and that we really are getting a JS file.\n                if (\n                    response.status === 404 ||\n                    response.headers.get(\"content-type\").indexOf(\"javascript\") === -1\n                ) {\n                    // No service worker found. Probably a different app. Reload the page.\n                    navigator.serviceWorker.ready.then(registration => {\n                        registration.unregister().then(() => {\n                            window.location.reload();\n                        });\n                    });\n                } else {\n                    // Service worker found. Proceed as normal.\n                    this.registerValidSW(swUrl);\n                }\n            })\n            .catch(() => {\n                console.log(\n                    \"No internet connection found. App is running in offline mode.\"\n                );\n            });\n    }\n\n    unregister() {\n        if (\"serviceWorker\" in navigator) {\n            navigator.serviceWorker.ready.then(registration => {\n                registration.unregister();\n            });\n        }\n    }\n\n    onInstalled(callback) {\n        this.installPromise.then(callback).catch(console.error)\n\n    }\n\n    onUpdateFound(callback) {\n        this.updatePromise.then(callback).catch(console.error)\n    }\n}"],"sourceRoot":""}